"use strict";(self.webpackChunkandys_man_club=self.webpackChunkandys_man_club||[]).push([[565],{6066:function(t,e,r){r.r(e),r.d(e,{default:function(){return y}});var n=r(5861),s=r(4578),o=r(4687),a=r.n(o),c=r(7294),i=r(5557),u=r(6725),l=r(8688),f=r(6760),h=r(6256),p=r(249),d=r(2798),y=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).state={story:{content:e.props.data.story?JSON.parse(e.props.data.story.content):{},cta_referrer:null},background_color:"bg-white"},e.getCtaReferrer=function(){return(0,d.Z)("cta_referrer")},e.setCtaReferrer=function(t){(0,p.Z)("cta_referrer="+t),e.setState({cta_referrer:t})},e.setBackgroundColor=function(t){e.setState({background_color:t})},e}(0,s.Z)(e,t);var r=e.prototype;return r.getInitialStory=function(){var t=(0,n.Z)(a().mark((function t(){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.Z.setQuery(this.props.location.search),t.next=3,l.Z.get("cdn/stories/"+this.props.data.story.full_slug);case 3:return e=t.sent,r=e.data.story,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.componentDidMount=function(){var t=(0,n.Z)(a().mark((function t(){var e,r=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getInitialStory();case 2:(e=t.sent).content&&this.setState({story:e}),setTimeout((function(){return l.Z.initEditor(r)}),200),this.getCtaReferrer()&&this.setCtaReferrer(this.getCtaReferrer());case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.render=function(){return c.createElement(f.z.Provider,{value:{currentPage:this.state.story.uuid,location:this.props.location,name:this.state.story.name,first_published_at:this.state.story.first_published_at,content:this.state.story.content,tag_list:this.state.story.tag_list,setCtaReferrer:this.setCtaReferrer,ctaReferrer:this.state.cta_referrer,background_color:this.state.background_color,setBackgroundColor:this.setBackgroundColor}},c.createElement(u.Z,{location:this.props.location},"news_views"===this.state.story.content.component&&c.createElement(h.Z,null),c.createElement(i.Z,{blok:this.state.story.content})))},e}(c.Component)}}]);
//# sourceMappingURL=component---src-templates-page-js-07647b86769ff77ae3f4.js.map