"use strict";(self.webpackChunkandys_man_club=self.webpackChunkandys_man_club||[]).push([[634],{6558:function(t,r,e){e.r(r),e.d(r,{default:function(){return d}});var n=e(5861),s=e(4578),a=e(4687),o=e.n(a),c=e(7294),i=e(3683),u=e(6725),f=e(8688),l=e(6760),h=e(249),p=e(2798),d=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(r=t.call.apply(t,[this].concat(n))||this).state={story:{content:r.props.data.story?JSON.parse(r.props.data.story.content):{},cta_referrer:null},background_color:"bg-white"},r.getCtaReferrer=function(){return(0,p.Z)("cta_referrer")},r.setCtaReferrer=function(t){(0,h.Z)("cta_referrer="+t),r.setState({cta_referrer:t})},r.setBackgroundColor=function(t){r.setState({background_color:t})},r}(0,s.Z)(r,t);var e=r.prototype;return e.getInitialStory=function(){var t=(0,n.Z)(o().mark((function t(){var r,e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.Z.setQuery(this.props.location.search),t.next=3,f.Z.get("cdn/stories/"+this.props.data.story.full_slug);case 3:return r=t.sent,e=r.data.story,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.componentDidMount=function(){var t=(0,n.Z)(o().mark((function t(){var r,e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getInitialStory();case 2:(r=t.sent).content&&this.setState({story:r}),setTimeout((function(){return f.Z.initEditor(e)}),200),this.getCtaReferrer()&&this.setCtaReferrer(this.getCtaReferrer());case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.render=function(){return c.createElement(l.z.Provider,{value:{currentPage:this.state.story.uuid,location:this.props.location,name:this.state.story.name,first_published_at:this.state.story.first_published_at,content:this.state.story.content,tag_list:this.state.story.tag_list,setCtaReferrer:this.setCtaReferrer,ctaReferrer:this.state.cta_referrer,background_color:this.state.background_color,setBackgroundColor:this.setBackgroundColor}},c.createElement(u.Z,{location:this.props.location},c.createElement(i.Z,{blok:this.state.story.content})))},r}(c.Component)}}]);
//# sourceMappingURL=component---src-pages-index-js-e48d1ad78edb9f1ab5f6.js.map